<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.101.0"><meta charset=utf-8><title>Jack Greenberg | Portfolio</title><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/reveal-js/css/reset.css><link rel=stylesheet href=/reveal-js/css/reveal.css><link rel=stylesheet href=/robot-lung.css id=theme><link rel=stylesheet href=/highlight-js/color-brewer.min.css></head><body><div class=reveal><div class=slides><section><p>The portfolio of</p><img style=border:none;box-shadow:none src=/illustration.png width=30%><h1 id=jack-greenberg>Jack Greenberg</h1><p><a href=#projects>Projects</a> | <a href=#contact>Contact</a> | About<sup>*</sup></p><br><p><small><sup>*</sup>Go to the next slide!</small></p></section><section><img src=/portrait.png width=70%><p>I am a student at <a href=https://olin.edu>Olin College of Engineering</a> studying
electrical and computer engineering.</p><p>My focus is in <em>embedded systems engineering</em>.</p></section><section><p>I&rsquo;m originally from Los Angeles.</p><span class=fragment><p>I am a jazz and funk bass player.</p></span><span class=fragment><p>And I love cooking.</p></span></section><section><div style=text-align:left><p><img style=border:none;box-shadow:none;margin:0 src=/apple.png width=7%></p><p>I&rsquo;m currently interning at Apple in the Special Projects Group.</p><p>I am under a strict NDA, but can say that I was an embedded software controls
engineer building a product that has not reached the market.</p><p>I worked closely with electrical, mechanical, and controls engineers to develop
integrated engineering systems, and developed firmware drivers for interfacing
with sensors and other hardware peripherals.</p></div></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background-image=/mkv.png data-background-position="left bottom" data-background-repeat=no-repeat data-background-size=65%><div style="text-align:left;margin:-2em -5em 0 0"><p><img style=border:none;box-shadow:none;margin:0 src=/oem-logo.png width=30%></p><p>At Olin, I&rsquo;m a member of <a href=https://www.olinelectricmotorsports.com><strong>Olin Electric
Motorsports</strong></a>, our Formula SAE electric
race car team.</p><p>I work on firmware, mostly for <em>high voltage power distribution</em> and <em>network
management</em>.</p></div><br><br><p><small>navigate down to learn more</small></p><p>ðŸ”½</p></section><section data-noprocess data-shortcode-slide data-background-image=/mkv.png data-background-position="left bottom" data-background-repeat=no-repeat data-background-size=65%><div style=text-align:left><h3 id=high-voltage-power-distribution>High Voltage Power Distribution</h3><p>I worked on the firmware for the <a href=#mkv-bms>battery management system</a> and the
battery contactor controller.</p><p>I designed the firmware to be robust and <em>readable</em>. I believe that
safety-critical code should be easy to understand and as simple as possible.</p></div></section><section data-noprocess data-shortcode-slide data-background-image=/mkv.png data-background-position="left bottom" data-background-repeat=no-repeat data-background-size=65%><div style=text-align:left><h4 id=battery-contactor-control>Battery Contactor Control</h4><p>I implemented a state machine for controlling the battery contactors (also
called AIRs, or <em>accumulator isolation relays</em>). The firmware ensures safe
operation of the motor controller (precharge, discharge).</p><p>The entire state machine was fully tested using a pieced-together
hardware-in-the-loop test setup with a CAN dongle, an Arduino, and a <strong>lot</strong> of
jumper cables.</p><p>The state machine is diagrammed below.</p><p><a href=https://github.com/olin-electric-motorsports/olin-electric-motorsports/tree/main/vehicle/mkv/software/air_control>Code repository</a>.
<a href=https://docs.olinelectricmotorsports.com/share/13fffae6-b6f3-4f28-8fd8-b853e9c5ab8c>Documentation</a>.</p></div></section><section data-noprocess data-shortcode-slide data-background-image=/air-control.png data-background-size=contain></section><section data-noprocess data-shortcode-slide data-background-image=/mkv.png data-background-position="left bottom" data-background-repeat=no-repeat data-background-size=65%><div style=text-align:left><h3 id=network-management>Network Management</h3><p>Along with another member of the team, I developed a new system for managing our
CAN bus.</p><p>We are able to descibe the CAN messages sent to and received from our ECUs in a
YAML format. These YAML files are used as inputs to a DBC generator, as well as
a C-source generator that provides us an API for sending and receiving the
messages.</p></div></section><section data-noprocess data-shortcode-slide data-background-image=/mkv.png data-background-position="left bottom" data-background-repeat=no-repeat data-background-size=65%><div style=text-align:left><h3 id=tooling-and-infrastructure>Tooling and Infrastructure</h3><p>When I joined the team, our build system for compiling and flashing code
consisted of a Python file that invoked shell commands.</p><p>I introduced the Bazel build system to our team to make our code more
professional. We are able to build and flash any code from our monorepo using
Bazel.</p></div></section></section><section data-noprocess data-shortcode-slide id=projects><h3 id=here-are-some-projects-ive-worked-on>Here are some projects I&rsquo;ve worked on&mldr;</h3><br><br><h5 id=can-bootloadercan-bootloader><a href=#can-bootloader>CAN Bootloader</a></h5><h5 id=mkv-bmsmkv-bms><a href=#mkv-bms>MKV BMS</a></h5><h5 id=contactor-controlair-ctrl><a href=#air-ctrl>Contactor Control</a></h5><h5 id=kalman-filter-soc-estimationsoc><a href=#soc>Kalman Filter SoC Estimation</a></h5></section><section data-shortcode-section><section data-noprocess data-shortcode-slide id=can-bootloader><h1 id=can-bootloader>CAN Bootloader</h1><p><em>A bootloader that can reprogram chips using CAN.</em></p><p><a href=https://github.com/olin-electric-motorsports/olin-electric-motorsports>Github
link.</a></p><br><p><small>navigate down to learn more</small></p><p>ðŸ”½</p></section><section><p>Historically, whenever we wanted to update the firmware on our circuit boards,
we had to use an <em>in-system programming (ISP) dongle</em> and plug into each board
manually.</p><p>This often meant opening up enclosure, and required us to have a large
programming header on each board, adding height and exposed copper.</p></section><section><p>As a personal project, I developed a bootloader for the ATmega16m1, the
microcontroller we use on the team, that allows us to update the firmware of
<em>any</em> ECU on our CAN bus.</p><br><ul><li>No more programming dongles</li><li>No more opening enclosures</li><li>No more large programming headers</li></ul></section><section><p>The bootloader runs when the chip receives power, checks EEPROM for a validity
stamp on the image, and then boots into either the image or the updater.</p><p>The updater uses a state-based approach for doing firmware updates:</p></section><section data-noprocess data-shortcode-slide data-background-image=/btldr-state.png data-background-size=contain></section><section><p>The bootloader is accompanied by a shell script that allows users to ping and
firmware-update the boards based on a preset ECU ID.</p><br><p>You can find the code for the project <a href=https://github.com/olin-electric-motorsports/olin-electric-motorsports>here</a>.</p></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide id=mkv-bms><h1 id=mkv-bms>MKV BMS</h1><p><em>A battery management system for a 400V EV battery.</em></p><p><a href=https://github.com/olin-electric-motorsports/olin-electric-motorsports/tree/main/vehicle/mkv/software/bms>Code repository</a>.
<a href=https://docs.olinelectricmotorsports.com/share/0ba70c22-4849-4f85-b3be-6f090aa76141>Documentation</a>.</p><br><p><small>navigate down to learn more</small></p><p>ðŸ”½</p></section><section><p>For the Olin Electric Motorsports MKV vehicle, we had a 400V battery pack built
with 864 <em>18650</em> lithium batteries.</p><p>In order to ensure safe operation, we built a custom BMS. A few of my teammates
worked on the electrical systems and PCBs, and I wrote the firmware.</p></section><section><p>The BMS core uses isoSPI to communicate with peripheral boards, each containing
two LTC6811 battery management integrated chips.</p><p>I adapted Linear Technology&rsquo;s (now Analog Devices) drivers to fit our
microcontrollers, and implemented a 100 Hz loop that monitors the temperatures
and voltages.</p></section><section><p>In the future, I&rsquo;m planning on taking things to the next level.</p><p>I&rsquo;m planning to integrate state-of-charge estimation using an extended Kalman
filter algorithm, and integrate control loops to dynamically limit torque as a
function of battery temperature.</p></section></section><section data-noprocess data-shortcode-slide id=contact><h2 id=contact>Contact</h2><p>Email: <a href>j &lt;at> jackgreenberg &lt;dot> co</a></p><p>Github: <a href=https://github.com/jack-greenberg>@jack-greenberg</a></p></section></div></div><script type=text/javascript src=/reveal-hugo/object-assign.js></script>
<a href=/reveal-js/css/print/ id=print-location style=display:none></a>
<script type=text/javascript>var printLocationElement=document.getElementById("print-location"),link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?"pdf.css":"paper.css"),document.getElementsByTagName("head")[0].appendChild(link)</script><script type=application/json id=reveal-hugo-site-params>{"custom_theme":"robot-lung.css","highlight_theme":"color-brewer","margin":0.2,"transition":"slide","transition_speed":"fast"}</script><script type=application/json id=reveal-hugo-page-params>null</script><script src=/reveal-js/js/reveal.js></script>
<script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams=JSON.parse(document.getElementById("reveal-hugo-site-params").innerHTML),revealHugoPageParams=JSON.parse(document.getElementById("reveal-hugo-page-params").innerHTML),options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options)</script><script type=text/javascript src=/reveal-js/plugin/markdown/marked.js></script>
<script type=text/javascript src=/reveal-js/plugin/markdown/markdown.js></script>
<script type=text/javascript src=/reveal-js/plugin/highlight/highlight.js></script>
<script type=text/javascript src=/reveal-js/plugin/zoom-js/zoom.js></script>
<script type=text/javascript src=/reveal-js/plugin/notes/notes.js></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!1});let render=e=>{let t=e.currentSlide.querySelectorAll(".mermaid");if(!t.length)return;t.forEach(e=>{let t=e.getAttribute("data-processed");t||mermaid.init(void 0,e)})};Reveal.addEventListener("slidechanged",render),Reveal.addEventListener("ready",render)</script></body></html>